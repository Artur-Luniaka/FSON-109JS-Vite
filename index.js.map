{"version":3,"file":"index.js","sources":["../src/js/api.js","../src/js/pagination.js","../src/js/event.js"],"sourcesContent":["// Discovery API (https://developer.ticketmaster.com/products-and-docs/apis/discovery-api/v2/#search-events-v2)\n// API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\n// Потрібно відрендерити колекцію  івентів і реалізувати пагінацію за допомогою бібліотеки\n// tui - pagination(https://www.npmjs.com/package/tui-pagination),\n// Запити робимо використовуючи бібліотеку axios (https://www.npmjs.com/package/axios , https://axios-http.com/uk/docs/intro)\n// і конструкції async\\await; try\\catch\n\nimport axios from 'axios';\n\nconst baseUrl = 'https://app.ticketmaster.com/discovery/v2/';\nconst apiKey = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\n\nexport async function fetchData(page) {\n  const responce = await axios.get(\n    `${baseUrl}events.json?apikey=${apiKey}&page=${page}`\n  );\n  console.log(responce.data);\n  return responce.data;\n}\n\nfetchData(1);\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderEvents } from './event.js';\n\nconst options = {\n    totalItems: 0,\n    itemsPerPage: 20,\n    visiblePages: 5,\n    page: 1,\n    centerAlign: false,\n    firstItemClassName: 'tui-first-child',\n    lastItemClassName: 'tui-last-child',\n    template: {\n        page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n        currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n        moveButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n            '</a>',\n        disabledMoveButton:\n            '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n            '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n            '</span>',\n        moreButton:\n            '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n            '<span class=\"tui-ico-ellip\">...</span>' +\n            '</a>'\n    }\n};\n\nconst pagination = new Pagination('pagination', options);\n\nexport const page = pagination.getCurrentPage();\nexport function reset(totalItems) {\n    pagination.reset(totalItems);\n}\n\npagination.on('afterMove', (event) => {\n    const currentPage = event.page;\n    console.log(currentPage);\n    renderEvents(currentPage);\n});","import { fetchData } from './api.js';\nimport { page, reset } from './pagination.js';\n\nconst listEvent = document.querySelector('.list');\n\nfunction createMarkup(array) {\n  const markup = array\n    .map(\n      ({ name, id }) => `\n      <li id=\"${id}\">\n        <p id=\"${id}\">${name}</p>\n      </li>\n    `\n    )\n    .join('');\n\n  listEvent.innerHTML = markup;\n}\n\nexport async function renderEvents(page) {\n  const data = await fetchData(page);\n  if (page === 1) reset(data.page.totalElements);\n  console.log(data._embedded.events);\n  createMarkup(data._embedded.events);\n}\n\nrenderEvents(page);\n"],"names":["baseUrl","apiKey","fetchData","page","responce","axios","options","pagination","Pagination","reset","totalItems","event","currentPage","renderEvents","listEvent","createMarkup","array","markup","name","id","data"],"mappings":"6vBASA,MAAMA,EAAU,6CACVC,EAAS,mCAER,eAAeC,EAAUC,EAAM,CACpC,MAAMC,EAAW,MAAMC,EAAM,IAC3B,GAAGL,CAAO,sBAAsBC,CAAM,SAASE,CAAI,EACvD,EACE,eAAQ,IAAIC,EAAS,IAAI,EAClBA,EAAS,IAClB,CAEAF,EAAU,CAAC,EChBX,MAAMI,EAAU,CACZ,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACN,KAAM,gDACN,YAAa,iEACb,WACI,mGAGJ,mBACI,gHAGJ,WACI,mGAGP,CACL,EAEMC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EAE1CH,EAAOI,EAAW,iBACxB,SAASE,EAAMC,EAAY,CAC9BH,EAAW,MAAMG,CAAU,CAC/B,CAEAH,EAAW,GAAG,YAAcI,GAAU,CAClC,MAAMC,EAAcD,EAAM,KAC1B,QAAQ,IAAIC,CAAW,EACvBC,EAAaD,CAAW,CAC5B,CAAC,ECtCD,MAAME,EAAY,SAAS,cAAc,OAAO,EAEhD,SAASC,EAAaC,EAAO,CAC3B,MAAMC,EAASD,EACZ,IACC,CAAC,CAAE,KAAAE,EAAM,GAAAC,CAAE,IAAO;AAAA,gBACRA,CAAE;AAAA,iBACDA,CAAE,KAAKD,CAAI;AAAA;AAAA,KAGvB,EACA,KAAK,EAAE,EAEVJ,EAAU,UAAYG,CACxB,CAEO,eAAeJ,EAAaV,EAAM,CACvC,MAAMiB,EAAO,MAAMlB,EAAUC,CAAI,EAC7BA,IAAS,GAAGM,EAAMW,EAAK,KAAK,aAAa,EAC7C,QAAQ,IAAIA,EAAK,UAAU,MAAM,EACjCL,EAAaK,EAAK,UAAU,MAAM,CACpC,CAEAP,EAAaV,CAAI"}